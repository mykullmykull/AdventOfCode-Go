package day

var points = map[rune]int{
	')': 1,
	']': 2,
	'}': 3,
	'>': 4,
}

var closers = map[rune]rune{
	'(': ')',
	'[': ']',
	'{': '}',
	'<': '>',
}

var openers = map[rune]rune{
	')': '(',
	']': '[',
	'}': '{',
	'>': '<',
}

// ------------------------------ inputs ------------------------------------//
var testInput = []string{
	"[({(<(())[]>[[{[]{<()<>>",
	"[(()[<>])]({[<{<<[]>>(",
	"{([(<{}[<>[]}>{[]{[(<()>",
	"(((({<>}<{<{<>}{[]{[]{}",
	"[[<[([]))<([[{}[[()]]]",
	"[{[{({}]{}}([{[{{{}}([]",
	"{<[[]]>}<{[{[{[]{()[[[]",
	"[<(<(<(<{}))><([]([]()",
	"<{([([[(<>()){}]>(<<{{",
	"<{([{{}}[<[[[<>{}]]]>[]]",
}
var expected = 288957

var realInput = []string{
	"{{(([<((({<(<<[][]>({}[])>[(<>[])(<>{})])<<[<><>][<>()]><([]{}){<>()}>>>}){<[[{<[]()>}{((){})[<",
	"((<(<{{<({<<{[{}()]}(((){}){[]()})><[[()()]<(){}>]{<[][]>{[]<>}}>>}){(<<<<<>{}>>[([]())]>[<{{}()}[()]>{[{}",
	"[{[<(<(<{<{[((()[])[<>{}])][((()<>)[<><>])]}>([<{<{}{}>[{}<>]}[[[]<>]<()<>>>>{[(<>())(()[]",
	"(<{(<{<{<<<[[{[]{}}<()[]>]({[]<>}<(){}>)]>[{<[()()]<()<>>>({[]<>}<()[]>)}]>({[{(()){{}()}}",
	"{[<(<[[(([{{{([]{})[{}{}]}{([][])([]<>))}<<<()()>(()[])><[[]<>]{{}<>}>>}[<<({}())[<>[]]><[{}{}](<>",
	"<[(<{[<{([({<(()[])>([{}[]]{()()})}[[[[][]]((){})]{{{}{}}<()<>>}])[{{[{}[]]{[][]}}}{({[]()}(()<>))[<{}()",
	"[((<[(((({<{[([]<>)({})]<[[][]](()())>}([{[]}([]())](<{}>))><<[[<><>]<()()>]<<()[]>[<>{}]>>>}))(",
	"[{[(<<<<{<<<[{<><>}{(){}>](([]()))><([<>[]]{()()})[[<>[]]{()[]}]>>([[{()[]}{{}<>}]{<[]<>>{[]()}}]",
	"{[[[<([[{[[({{()<>}<()<>>}{(()<>)<<><>>})<[{(){}}(()<>)]{{<><>}<{}()>}>][([(()())[{}()]]<<<><>>",
	"[[[[{{<{<[<[{{[]{}){()()}}]{([(){}]<[]<>>){[{}()]}}>[{{<[][]>(()<>)}}{{<[]<>>{<>()}}([[][]][{}[]])}]]>}[[",
	"{{<({[([([<{{{[]()}(<>[])}({[]<>}({}<>))}{<<<>()>({}<>)>[[{}<>](<>())]}>][{<[[(){}](()<>)]",
	"[{([<<<[[({[<[<>[]]>{(()<>)([]())}]}]]{<<<<[[]][{}]><<[]()>{<>()}>><<(<><>)(()<>)>([{}<>]{{}()})>>>{{",
	"<<[<(({{[(<{{((){})([]<>)}({{}<>})}>[[<<{}<>><()<>>>(<()()>[[]()])]([[{}{}]{[]<>}])]){<{(<()[]>{<>()})<([]<>",
	"([({({[{{<(<([<><>]{{}[]})<{<>}({}())>><<{[]{}}<()>>{{<>()}({}{})}))>[[{{{<>()}{(){}}}{{<>[]}",
	"<({[[<[<{[<([[<>{}]<()[]>){{[]()}[<><>]}){<<()<>>{{}<>}><[{}{}]{{}[]}>}><[<<<><>><[]<>>>{{()()}<[]<>>}]",
	"[[{<([{(<[{{([<><>])[[{}()][()()]]}(({<><>}{{}{}})((<>())[{}[]])>}<(<[()()]>)<<<[]{}>[[]()]>[",
	"{[{((<({<{({{{[][]}{[]{}}}<{(){}}<[][]>>}{<<[]>[[]()]><[[][]]<(){}>>})(<[({}[])(()[])]<([]())",
	"<[{<{<<[[[([<[[]{}]{[]<>}>(({}{})((){}))]{((<>[])<<>[]>)<{()[]}<<>()>}})<<[[[]()][{}{}]]{({}<>)<<>{}>}",
	"{<{[[(<(({<({<{}()>({}{})}[{[]()}{<>()}))[<[[]<>](<>())>]>}){([{([{}<>]{()<>})((<>{})<()>)",
	"{[(([{{[({{[(([][])[()()]){{<>{}}}]({<<>()><<>()]}(<[][]>(<>[])))}<[([[]()]{(){}}){(<>{})[[]()]}]>}[{<[[<>{",
	"(([(<(<<{(([(<()><[]{}>){(<><>)[{}[]]}][([[]{}])(<[]()>[{}<>])]))[({<{[]()}>{{[]()}<()[]>}}[{",
	"{(<<<[[[<[<<<[<>[]]<[][]>><{<>{}}(<>)>>[{[()<>][{}[]]}{{<><>}<[]{}>}]>([[{[]()}][[()<>]([]())]]",
	"<(({{{<[{[([{{()()}[{}()]}<{(){}}[<>[]]>])[((({}[])<[][]>){[{}[]][{}<>]}){[<[]()>[<>{}]]([{}()]((){}))}]]<<{(",
	"<{{{(<[[<({{([<><>]){<[]<>><<>()>}}[[(()<>)<[]<>>]{([]())[(){}]}]})({([(()<>)[[]()}][{(){}}{<><>}])(((()()",
	"<{<[{<[{{({{<[()<>]<[][]>>}}{<<<<>>({}{})>[<[]<>>]>((<{}<>>{<><>})[{[]}[{}()]>)})}}]>[(<(<<<{([]{})({}<>)}(",
	"(<[[{[{[[{[[{<[]<>>(<>())}{[<>{}><(){}>}]<[<<>[]><[]()>]{[[][]]<{}{}>}>]{{{<<>()>{<>()}}}<<",
	"(<<{{[({({[[[({}()){(){}}]]{<{<>}<()<>>>(<{}()>[[][]])}]{{{{<><>}(<>)}{{(){}}[()()]}})}){(<<[([][])<[]{}>",
	"<({[<<{<<{{([<{}{}>{()[]}](<()<>><{}{}>))[{{{}<>}}<<<>[]>[{}{}]>]}[({<[]()>}{{{}[]}})]}>[<[<",
	"<{[(({{[(<[(({{}<>})((()<>)))(<{()()}[[]()]>)]><({{({}{})[<>]}([{}<>]{()[]})})>)(<(<<((){})[()<>]>{([]",
	"({<((<<(({([[[[]()]{{}<>}}([<>()]{{}[]})]<([<>{}]{<><>})>)[[{<[]<>>((){})}{([]())<{}<>>}][[<<>",
	"({{{[<{(<[({({[]()}{<>[]}){(()[])({}{})}])(<[(()<>)]>({<()>{{}{}}}<(()[])[()[]]>))]{{[(((){}){{}{}})",
	"{{{<{<{[((<{[<(){}><{}<>>]}>)}]}({{<((<<<>{}>>{<[]()>({}())})(<([])<[]{}>>{(<>())([][])})){<",
	"<{({{(<[[<({((<>{})[()()])(<()()>[<><>])})(<[{[]{}}<{}{}>]({[]{}}{[]<>})>(<[{}[]]{<>()}><{{}[]}((){})>))",
	"[(<[[(<([[({[{<>()}{[]<>}](<<>{}>[[]{}])}[{[{}<>]{()[]}}<<{}()>{<>()}>])[((<()<>>{[][]})<(<>()",
	"[{[<{{[({[(({[{}[]]<{}<>>}{([]<>)<[]{}>})[{[[]()]{[]()}}<[{}()]{<><>}>])([{{{}<>}{<><>}}({{}()}{<>[]}",
	"<[[<[((({([[({<>()}{<>[]})]{{<(){}>[()[]]}{<[][]>[(){}]}}])}{{((<<{}[]>([]{})><([]{})[<>()]>)){",
	"({<{<<(<{([(<[{}{}][{}[]]>)([([]()){<>[]}]<{()()}<()<>>>)])[<[[{{}{}}][{{}[]}{{}{}}]]{[<[][]><<>()>]<[{}()]{",
	"(({<<{<([{{{[<()<>>([][])]{(<>())<<>()>}}<[<<><>>]{<()[]>}>}{[{[{}{}][()()]}{<{}{}>{{}<>}}]{[{[",
	"{[{[<{(<{(<({((){}){<>[]}}([()<>]<{}<>>)){(<()[]><<>>)(<()<>><{}[]>)}>([(([]())[()[]])]<[<{}{}><()[])][",
	"({[{({((<<<(<<<>>>{{{}[]}<<><>>})>[([([]<>){{}[]}>{{()()}({}{})})[{({}{})(<>[])}]]>[(<({[][]})<[<>[]]",
	"[[{{<<(<[([{({()<>}[{}()])({<>()}<<>()>)}])][{([<<<>()>{[]{}}>]([[{}<>][<>[]]]({<><>}{()[]})))([[({})<",
	"[<{<({[<{[[[<<(){}>>{[()()](<>[])}]][(({[]{}}{()[]})){<{()<>}[[]{}]>({()()}(<>{}))}]]{<[<{[]{}}>](<[[]{}]{{}[",
	"<<[[<((<<[([([()[]]{[][]})({{}{}}{<>()})]<[{<><>}[<>()]]{[[]{}](()<>)}>)<<{<()<>>{[]()}}{{[]{}}[[]{",
	"{[[([([[{<[[[<()[]><{}>]{({}[])(<>{})}]<<(<>[]){[]<>}>[(<>{})(()<>)]>]({((()()){[]<>})[<[]{}><{}()>]}{{(()[",
	"[{{{([<(<(({{<()[]>{()()}}[<<>()>{{}()}]}<<([]<>)[<>()]>(<()<>>{<><>})>)({[{[][]}{[][]}]<<<>",
	"<(<(((<([{{(<{<>[]}[()[]]>[<{}{}><<>()>]){({<>}([]<>))<{{}<>}[()<>]>}}}(<([[[]<>]]((()<>){<><>})>[<{<>[]}[<>",
	"<<[<[[<(([({[{()()}<()[]]][{{}[]}<<>[]>]}[[[()<>]]([{}()]([]))])]{([[<[][]>[{}{}]]<({}{}){[][]}>])[<[[[][]](",
	"[({<{{{([[(({[<>[]]}{<<>()>[(){}]})[<[<>()][{}]>{(()())}]){{[{<>{}}]{[{}](()())}}{[[<>()][<><>]]}}]](<<[{{{",
	"{({{[[({<([{[<<>[]>]<<{}[]><[][]>>}({(()<>)<<><>>}[[{}<>][[][]]])]<[<{()}{<><>}>]({{[]<>}[{}()]}<({}(",
	"(<<<{(({[[(<<<<><>>{<><>}><<{}[]><[]>>>(<({}()){[]{}}>[{<><>}([]{})]))<<([{}()][[]{}))[<<>>[[]()]]>",
	"(<<({{<({<{<[[<><>]]<<<><>>[[]<>]>>(<{{}()}[()]><<(){}>(()<>)>)}[[<[[]()]<<><>>>[({}()){()[]}]][<[<>{}](()[",
	"([[({[[{([[{<([]{}){{}()}>{(<>[])}}[(([]{}){()()})]][<<([]{})([]())>>[((()<>))<(()<>)[[]<>]>",
	"([({{({{<{((<<()[]><<><>>><{{}[]>[<>[]]>)<({()<>}[<>{}])[{()[]}[[][]]]>)<([<()()>({}{})](<[]()>))<[[[]()]<(",
	"<<<<[(<({<[<[(()()){<>()}]<[<><>]{[]{}}>>]>([[{<()>{[][]}}](<[()[]]<<><>>>([<>()]<{}[]>))]{<{{<",
	"[[<{<([<(({{<<{}<>>>{<<>[]>(<>[])}}})[{[{<<>{}>(()[]]}]}])>][{(<<({[[][]]{{}<>}}<({}{})({}",
	"([<([<((<<<<({<><>}[<>[]]){{()()}(<>{})}><[({}<>)[()()]])>[<<[()]<<>[]>>>]>[([{{<><>}{{}{}}}([[]()]",
	"(<<<((<[(<({[{[]<>}[{}{}]]<(<>())[()<>]}})>)[{({[<()<>><{}{}>][[[]<>](<>[])]}[([()()](()[]))<({}{})(<>",
	"<(<[(({[(([<[[()<>]{<>{}}]((()[]){[]{}})><<({})(<>)}[[[]()][<>{}]]>]<{[<()><()()>]<<{}{}>[{}()]>}>",
	"<<[<{<<(({<<((<>{})[[]{}])[{()()}{[]<>}]>{((<>()))[{<>[]}]}>({<<[][]>(()())><<[]<>>{[]{}}>}<({()()}<{}",
	"<{{<([{[{<([([[]()]<[]>){[()[]][(){}]}]<[{{}()}[{}[]]]>)({[<{}<>>]((<>[])<{}{}>)>{({{}{}}({}<>)){{{",
	"{[{{(<[[(<[(((<>[])[()[]])([()()]<()<>>)){[{[][]}[<>{}]]}]><{<((()<>)(<><>))<<()<>>(()())>>{[<[]()>]{((){})<",
	"(((<<<[<<<<[(([]{})[[]()]){[(){}]}][{<<>()>{{}<>})<(<><>)([][])>]><{<[{}<>]{()[]}><<<><>>(",
	"[<([<(([([(<<[[]<>]>{<<>()><(){}>}>{{{<><>}]<{<>[]}{<><>}>}){[{[{}{}][[]()]}]<([{}()][()()]){([][])[()<>]}>}",
	"[[(<[([<[{(<[<{}()><{}[]>][({}[]){()<>}]>[{[[][]]<[]()>}<{()<>}(()[])>])[[{({}{})<()>}([{}<>][{}])]]}({({{[",
	"[<{{<{[[[<([<{[]{}}{[]{}}>{{{}()}([]{})}]]{[{<()()>[<>[]]}[[<>()][<>()]]]([<[]<>>(()[])]{({",
	"<(<(<({[{((([<[]<>>])<[({}{})(<><>)][[<>{}]<()[]>]>))}<{{<(([]<>){{}{}})>}<<({{}{}}({}())){[(){}]{<><>}}><(",
	"((<{<[<{([[[([[][]]{{}())){<{}{}><<>()>}]][[(([][])[()<>])]]])[<({((()<>){[]{}})[<{}><()[]>]",
	"[[{<[{((([<[(<()<>>){((){})(()())}]{[[{}{}][[]]]}>]((<{{<>[]}<<><>>}[[<><>]<{}[]}]>){[[[()]",
	"{[<<<[(<{[[[<{<><>}(<>{})><[[]{}]<()<>>>]{{[()[]]<[]<>)}[<()<>>(<><>)]}]]}>([[{({([]<>)}<[()<>]{(",
	"<<[<([[<{([(<([]{})[{}[]]><<()()>{()()}>)({[{}()]<<>()>}({[]}({}<>)))]){({<[<>[]]{<>()}>}){{{{()<>",
	"[([(<[[{[{[[<<{}()><{}<>>>(<()[]><()>)]][<{[(){}]{()()}}(<<><>>[[]{}])>]}](<<<(<{}[]><()()>)<{{}",
	"{[({([[<<[[[([(){}](()<>))]][(({{}()}([]))[{[]()}{[]{}}])<<({}<>)>(<[][]><(){}>)>]](<((<[]{",
	"(<(([(<<[([({{()<>}([][])}<([]{})>)<{<<>{}>}[<[][]><<>()>]>][(({()[]}[()[]]){{{}{}}{<>()}})[(({}[])<[]>)({()}",
	"{[<<{<((<{[({{[]}{()}}[[()()]{[]<>}])<<[()<>][()<>]>({<>()}<()[]])>](<{<()<>><()>}[[()()]]>)}<{[<[[][",
	"<[<{<{([({[<{({})[[]<>]}[(()<>)<<>()>]>[[{<>()}[()()]]<[{}{}]<<><>>>]]<{[{()[]}]{(<>{})([]<>)}}({[[]<>]<{}{",
	"{{<[{{<[[<{{{{<>()}{(){}}}(<[]>)}}[[<{[][]}{<>{}}>[(<>{})(<><>)]]([{()[]}((){})][{(){}><()[]>])]>]{([(",
	"{([({([<({{[[<{}{}>{<>{}}}([[]()]{(){}})](<{{}[]}[<>[]]>[{()()}(<>)])}[([<<><>>{[]()}]((<>()){()<>}))[<[<>[",
	"<({[({<<<[[{<<{}[]>{[]<>}><({}())(()[])}}([[{}[]][<>()]][<{}<>>])]]>>>}{([[(([[<<><>><<>()>]]{{({}[])",
	"[([[(<{[[<{(([[]<>])[{()()}[[]()]])}[<<<<>[]><()[]>>><[(<><>)[{}{}]]<[<>{}]<()[]>>>]>{(<<([][])[<>]>{(<>{})[",
	"{[(<{(([<[{({({}{}){()()}}<[<><>]<{}()>>){(({}[]]{{}<>}){([]{})}}}<[[({}<>)]{[[][]]<()<>>}][[[[]{}]{[]()}]]>",
	"[<(({[{{[{<(((<>{})<<><>>)<{[][]}>){(<[]()>{<>{}})[(<>[])[()<>]]}>[<(({}<>)[<>[]])[{<>[]}(()<>)]>({<[]<>>}[",
	"(<({<({([({[{{{}{}}(()<>)}<{<>()}(<>[])>][[{[][]}{<>{}}]{{()[]}{()<>}}]}{<({[]{}}<()<>>)>({({}())[{}()",
	"{{[<[{{<<[(<<<<>()>>([<>{}])>)([<{[]()}{[]{}}>][[(<>[]){[]{}}][<<>[]><()()>]]>][<<[{[]}({}())]{[<>{}]([",
	"<<<<{({[[[[[{<()<>>{{}<>}}{{[]{}}((){})}]{[{(){}}[[]{}]]{<<>()>(()())}}]<(<[()<>]{()}>[[[]<>](<>[])])(((",
	"{<[([<{<<<<{((<>{})<()()>){([]())[()[]]}}>><<<(<[]()>(<><>)){<<>[]><[][]>}>[[<()<>>(()<>)]",
	"[<(<([{{<<{<<({}())><<{}<>><{}<>>>>}{([[[][]]({}{})])}>><([[[{[][]}{<>()}]][([[][]][()[]])<<{}",
	"({(({(<{([{<[(()())<{}<>>]>[<(<>())[<>[]]><([]<>)[()<>]>]}][{(({<><>}([]())))}]>}[[{<{<[()()][<>{}]>{({}<>)}",
	"[{[<<<{(<[<({({}<>)}{{()<>}([]())})<(<()<>>[[][]]){<<>()>}]>]{(<[{(){}}<<>{}>]{{{}[]}<(){}>}>{[([][]",
	"(<{<[{<((([[{[{}[]][<>[]]]{[()()][{}{}]}]([<()[]>{<>{}}])])[(<{[<><>]{<>{}}}><<([][])>>){[{({}<>)<{}",
	"{({[<[([{[[[[([]()){{}<>}][<{}[]>{{}[]}]]([{{}{}}{{}[]}]<([]<>)>)]<([<[]()><(){}>](<()<>>(<>{})))>]",
	"{{{<<({(<[[{{[<>{}]}<({}<>)<[][]>>}(<{()()}[()<>]><{{}[]}[{}[]}>)](<{{<>()}<[][]>}>)][<(<<<>>([]())>)[{<<>()>",
	"[([[{[(({(<[{(<><>){{}<>}}{(<>[]){[][]}}]{(({}[]])(<[]{}>({}[]))}>[(<{<><>}{<>()}>[({}())<[][]>])[{<{}{}>",
	"{({{[<<{<<[<{{[]{}}([])}>([(<>{}]<{}<>>][<<>[]>{<>}])]{<[{(){}}{[]{}}]<<()<>>[{}]>>([{()()}<{}<>>",
	"{[{<[([<((([[(())[{}<>]]<<<>{}>{<>[]}>](([[]{}]{[]{}}){[()]})){<<[[]()][[]()]>(<<>{}>[()[]])><<<<>",
	"<[([[<{{([([(<[][]>[(){}])((()[])(<>))][[[[]<>][{}()]][<[][]>{<>()}]])<[[<()()>(()())}[<[][]>[()()]]]{<{[]{}}",
	"{(({(<{({[[({{<>()}[()()]}[{[]<>}[[]<>]])([({}{})<{}()>]((()<>){()()}))]][{<({{}()}(<><>))[<(){}><()[]>",
	"[{[[([[<[<[(<<[][]>[<>[]]>{(<><>)<[]<>>}){((()())[()]){[<>{}]<{}[]>}}]><[[{(()[])<()<>>}][[<<><>>",
	"[<({({<[[<[{{({}{})<<><>>}<{()[]}{[]<>}>}[[{()()}]<[()()){{}()}>]][[<[<>()][{}[]]>{[{}<>](<>{})}]{{(<>())(<",
	"(<(((({[[<<{<{()()}<<>[]>>}[([[]{}]<<>()>)]><[<[{}[]]{{}{}}>{<<>{}>{{}()}}]>>({({<(){}>({})}([()<>]{<><>}",
	"<{({<<(([<({[{[]()]]<[<>()]<<>{}>>})((<<[]<>>(<>{})>)[[[<>{}]([][])](({}{})<[]{}>)])>](<[({{()()}([]",
	"<[({[{[[[[[<[[<>()}([])]([()()]<<><>>)>[{{<>{}}[()]}{{<>[]}<<>{}>}]]{[<{()<>}([]<>)>({{}[]}<()[]>)]}]<",
	"[(({(<((({{[((()[]){(){}})([[]{}][{}()])]}<{{(<>()){[]()}}<([]())[()<>]>}<<(<><>)([][])>[{()[]}<<>[]>]>>}[{",
	"{([<{({[<{{{[[[]<>]]}(<([]<>)<<>{}>>({{}<>}(<><>)))}}>][{[<[{([]<>){<>{}}}(([][]){[][]})]>(({(<>{}){{}[]}}",
	"(<[([<{<(<([[{()<>}][{{}<>}(()())]]<([[]()]{[]<>})>)>[<<<<()<>>(()())>{{()<>}<<>{}>}><((<><>))>>({{{[",
	"<{([<[[{<<((<{{}()}<()()>>[<<>[]>{<>()}]]){({[{}](()<>)}<(()[])<()[]>>)[[[{}[]]({}[])]{{[][]}({}[]",
	"{{([[<(((([(([{}()][{}<>])<([]())>)[[[{}[]]([]{})]]]([[(()<>){<>[]}][[[]{}}<()[]>]]{[{{}[]}{",
}
